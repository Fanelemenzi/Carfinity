{% extends 'base/base.html' %}
{% block content %}
<div class="max-w-4xl mx-auto py-10 px-6">
  <!-- Stepper -->
  <div class="flex items-center justify-between mb-12">
    <div class="flex-1 flex items-center">
      <div class="flex flex-col items-center">
        <div class="w-10 h-10 rounded-full bg-green-600 text-black flex items-center justify-center font-bold text-sm">âœ“</div>
        <span class="text-sm mt-2 font-medium text-green-600">Client</span>
      </div>
      <div class="flex-1 h-0.5 bg-green-600 mx-4"></div>
      <div class="flex flex-col items-center">
        <div class="w-10 h-10 rounded-full bg-green-600 text-black flex items-center justify-center font-bold text-sm">âœ“</div>
        <span class="text-sm mt-2 font-medium text-green-600">Vehicle</span>
      </div>
      <div class="flex-1 h-0.5 bg-green-600 mx-4"></div>
      <div class="flex flex-col items-center">
        <div class="w-10 h-10 rounded-full bg-green-600 text-black flex items-center justify-center font-bold text-sm">âœ“</div>
        <span class="text-sm mt-2 font-medium text-green-600">Status</span>
      </div>
      <div class="flex-1 h-0.5 bg-green-600 mx-4"></div>
      <div class="flex flex-col items-center">
        <div class="w-10 h-10 rounded-full bg-green-600 text-black flex items-center justify-center font-bold text-sm">âœ“</div>
        <span class="text-sm mt-2 font-medium text-green-600">Equipment</span>
      </div>
      <div class="flex-1 h-0.5 bg-blue-600 mx-4"></div>
      <div class="flex flex-col items-center">
        <div class="w-10 h-10 rounded-full bg-blue-600 text-black flex items-center justify-center font-bold text-sm">5</div>
        <span class="text-sm mt-2 font-medium text-blue-600">Images</span>
      </div>
    </div>
  </div>

  <!-- Form Title -->
  <div class="mb-10">
    <h2 class="text-2xl font-semibold text-gray-900 mb-2">Step 5: Vehicle Images</h2>
    <p class="text-gray-600">Please upload photos of your vehicle. At least one image is required.</p>
  </div>

  <form method="post" enctype="multipart/form-data" class="space-y-8">
    {% csrf_token %}
    
    <!-- Required Images Section -->
    <div class="bg-white rounded-xl border border-gray-200 p-8">
      <h3 class="text-lg font-medium text-gray-900 mb-6 pb-3 border-b border-gray-100">Essential Views</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="form-group">
          <label class="block text-sm font-medium text-gray-700 mb-3">{{ form.front_image.label }}</label>
          <div class="relative">
            {{ form.front_image }}
            {% if form.front_image.errors %}
              <div class="text-red-500 text-sm mt-1">{{ form.front_image.errors }}</div>
            {% endif %}
            <p class="text-xs text-gray-500 mt-1">{{ form.front_image.help_text }}</p>
          </div>
        </div>
        
        <div class="form-group">
          <label class="block text-sm font-medium text-gray-700 mb-3">{{ form.rear_image.label }}</label>
          <div class="relative">
            {{ form.rear_image }}
            {% if form.rear_image.errors %}
              <div class="text-red-500 text-sm mt-1">{{ form.rear_image.errors }}</div>
            {% endif %}
            <p class="text-xs text-gray-500 mt-1">{{ form.rear_image.help_text }}</p>
          </div>
        </div>
        
        <div class="form-group">
          <label class="block text-sm font-medium text-gray-700 mb-3">{{ form.left_side_image.label }}</label>
          <div class="relative">
            {{ form.left_side_image }}
            {% if form.left_side_image.errors %}
              <div class="text-red-500 text-sm mt-1">{{ form.left_side_image.errors }}</div>
            {% endif %}
            <p class="text-xs text-gray-500 mt-1">{{ form.left_side_image.help_text }}</p>
          </div>
        </div>
        
        <div class="form-group">
          <label class="block text-sm font-medium text-gray-700 mb-3">{{ form.right_side_image.label }}</label>
          <div class="relative">
            {{ form.right_side_image }}
            {% if form.right_side_image.errors %}
              <div class="text-red-500 text-sm mt-1">{{ form.right_side_image.errors }}</div>
            {% endif %}
            <p class="text-xs text-gray-500 mt-1">{{ form.right_side_image.help_text }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Additional Images Section -->
    <div class="bg-white rounded-xl border border-gray-200 p-8">
      <h3 class="text-lg font-medium text-gray-900 mb-6 pb-3 border-b border-gray-100">Additional Views (Optional)</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="form-group">
          <label class="block text-sm font-medium text-gray-700 mb-3">{{ form.interior_image.label }}</label>
          <div class="relative">
            {{ form.interior_image }}
            {% if form.interior_image.errors %}
              <div class="text-red-500 text-sm mt-1">{{ form.interior_image.errors }}</div>
            {% endif %}
            <p class="text-xs text-gray-500 mt-1">{{ form.interior_image.help_text }}</p>
          </div>
        </div>
        
        <div class="form-group">
          <label class="block text-sm font-medium text-gray-700 mb-3">{{ form.engine_bay_image.label }}</label>
          <div class="relative">
            {{ form.engine_bay_image }}
            {% if form.engine_bay_image.errors %}
              <div class="text-red-500 text-sm mt-1">{{ form.engine_bay_image.errors }}</div>
            {% endif %}
            <p class="text-xs text-gray-500 mt-1">{{ form.engine_bay_image.help_text }}</p>
          </div>
        </div>
        
        <div class="form-group">
          <label class="block text-sm font-medium text-gray-700 mb-3">{{ form.dashboard_image.label }}</label>
          <div class="relative">
            {{ form.dashboard_image }}
            {% if form.dashboard_image.errors %}
              <div class="text-red-500 text-sm mt-1">{{ form.dashboard_image.errors }}</div>
            {% endif %}
            <p class="text-xs text-gray-500 mt-1">{{ form.dashboard_image.help_text }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Documentation Section -->
    <div class="bg-white rounded-xl border border-gray-200 p-8">
      <h3 class="text-lg font-medium text-gray-900 mb-6 pb-3 border-b border-gray-100">Documentation & Issues</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="form-group">
          <label class="block text-sm font-medium text-gray-700 mb-3">{{ form.damage_images.label }}</label>
          <div class="relative">
            {{ form.damage_images }}
            {% if form.damage_images.errors %}
              <div class="text-red-500 text-sm mt-1">{{ form.damage_images.errors }}</div>
            {% endif %}
            <p class="text-xs text-gray-500 mt-1">{{ form.damage_images.help_text }}</p>
          </div>
        </div>
        
        <div class="form-group">
          <label class="block text-sm font-medium text-gray-700 mb-3">{{ form.document_images.label }}</label>
          <div class="relative">
            {{ form.document_images }}
            {% if form.document_images.errors %}
              <div class="text-red-500 text-sm mt-1">{{ form.document_images.errors }}</div>
            {% endif %}
            <p class="text-xs text-gray-500 mt-1">{{ form.document_images.help_text }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Image Upload Tips -->
    <div class="bg-blue-50 rounded-xl border border-blue-200 p-6">
      <h4 class="text-lg font-medium text-blue-900 mb-3">ðŸ“¸ Upload Tips</h4>
      <ul class="text-sm text-blue-800 space-y-1">
        <li>â€¢ Ensure good lighting for clear photos</li>
        <li>â€¢ Take photos from multiple angles</li>
        <li>â€¢ Include any visible damage or wear</li>
        <li>â€¢ Upload registration or title documents if available</li>
        <li>â€¢ Maximum file size: 10MB per image</li>
        <li>â€¢ Supported formats: JPG, PNG, GIF</li>
      </ul>
    </div>

    <!-- Action Buttons -->
    <div class="flex justify-between pt-8">
      <button type="button" onclick="history.back()" 
              class="px-8 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg font-medium hover:bg-gray-50 transition-colors duration-200 shadow-sm">
        Previous
      </button>
      <button type="submit" 
              class="px-8 py-3 bg-black text-white rounded-lg font-medium hover:bg-gray-800 transition-colors duration-200 shadow-sm">
        Complete Onboarding
      </button>
    </div>
  </form>
</div>

<style>
/* Custom styles for file inputs */
.form-group input[type="file"] {
  width: 100%;
  padding: 12px 16px;
  border: 2px dashed #d1d5db;
  border-radius: 8px;
  font-size: 14px;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
  background-color: #fafafa;
  cursor: pointer;
}

.form-group input[type="file"]:hover {
  border-color: #3b82f6;
  background-color: #f0f9ff;
}

.form-group input[type="file"]:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
  background-color: #ffffff;
}

/* File input styling */
.form-group input[type="file"]::-webkit-file-upload-button {
  background: #3b82f6;
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 6px;
  margin-right: 12px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
}

.form-group input[type="file"]::-webkit-file-upload-button:hover {
  background: #2563eb;
}
</style>
{% endblock %}
