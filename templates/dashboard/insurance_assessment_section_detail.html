{% extends 'base/base.html' %}
{% load static %}

{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mechanical Systems — Assessment Outcomes</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .thin-scroll::-webkit-scrollbar { height: 8px; }
    .thin-scroll::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.12); border-radius: 8px; }
  </style>
</head>
<body class="bg-gray-50 font-sans text-gray-800">
  <div class="min-h-screen p-6 lg:p-10">
    <div class="max-w-5xl mx-auto">
      <!-- Breadcrumb + Header -->
      <div class="flex items-center justify-between mb-6">
        <div>
          <nav class="text-sm text-gray-500 mb-2"> 
            <a href="#" class="hover:underline">Dashboard</a>
            <span class="mx-2">/</span>
            <a href="#" class="hover:underline">Toyota Hilux • CLM-2025-0412-778</a>
            <span class="mx-2">/</span>
            <span class="text-gray-700 font-medium">Mechanical Systems</span>
          </nav>
          <h1 class="text-2xl font-extrabold">Mechanical Systems — Assessment outcomes</h1>
          <p class="text-sm text-gray-500 mt-1">Overview of all mechanical checks, outcomes, photos and repair cost estimates for this vehicle.</p>
        </div>
        <div class="flex items-center gap-3">
          <button class="px-3 py-2 bg-white rounded-2xl shadow-sm">Back</button>
          <button class="px-3 py-2 bg-white rounded-2xl shadow-sm">Download CSV</button>
          <button class="px-3 py-2 bg-indigo-600 text-white rounded-2xl">Export Report</button>
        </div>
      </div>

      <!-- Summary card -->
      <div class="bg-white rounded-2xl p-5 shadow-sm mb-6">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-sm text-gray-500">Vehicle</p>
            <div class="flex items-baseline gap-3">
              <h2 class="text-lg font-semibold">Toyota Hilux <span class="text-gray-500 font-medium">2020</span></h2>
              <span class="px-2 py-1 rounded-full bg-yellow-100 text-yellow-700 text-sm">Claim: In Review</span>
            </div>
            <p class="text-sm text-gray-500 mt-1">Assessor: L. Ndlovu • Assessed: 2025-09-27</p>
          </div>

          <div class="text-right">
            <p class="text-xs text-gray-500">Mechanical Total Estimate</p>
            <div class="text-xl font-extrabold">$2,100</div>
            <p class="text-sm text-gray-500 mt-1">(Sum of mechanical component estimates)</p>
          </div>
        </div>
      </div>

      <!-- Filters -->
      <div class="flex items-center gap-3 mb-4">
        <div class="bg-white rounded-xl p-2 shadow-sm flex items-center gap-2">
          <label class="text-sm text-gray-500">Filter</label>
          <select class="text-sm px-2 py-1 border rounded-md">
            <option value="all">All</option>
            <option value="major">Major</option>
            <option value="minor">Minor</option>
            <option value="ok">OK</option>
          </select>
        </div>
        <div class="bg-white rounded-xl p-2 shadow-sm">
          <label class="text-sm text-gray-500">Search</label>
          <input type="search" placeholder="Search component or note" class="text-sm outline-none px-2 py-1" />
        </div>
        <div class="ml-auto text-sm text-gray-500">Showing <span class="font-medium">15</span> checks</div>
      </div>

      <!-- Engine Bay Group -->
      <section class="mb-6">
        <div class="flex items-center justify-between mb-3">
          <h2 class="text-lg font-semibold">Engine Bay</h2>
          <p class="text-sm text-gray-500">Key items inspected in the engine bay</p>
        </div>

        <div class="grid gap-3">
          <!-- Component card template -->
          <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center">
                <!-- block icon -->
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 7h18v10H3z" />
                </svg>
              </div>

              <div class="flex-1">
                <div class="flex items-start justify-between">
                  <div>
                    <div class="flex items-center gap-3">
                      <h3 class="font-semibold">Engine Block</h3>
                      <span class="text-xs py-1 px-2 rounded-full bg-red-100 text-red-700">Major</span>
                    </div>
                    <p class="text-sm text-gray-500 mt-1">Check for cracks, leaks and mounting damage.</p>
                  </div>

                  <div class="text-right">
                    <div class="text-sm text-gray-500">Estimate</div>
                    <div class="font-medium">$1,200</div>
                  </div>
                </div>

                <div class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                  <div>
                    <p class="text-sm text-gray-700">Checklist</p>
                    <ul class="list-disc ml-5 mt-2 text-sm text-gray-600">
                      <li>Cracks</li>
                      <li>Leaks</li>
                      <li>Mounting damage</li>
                    </ul>
                  </div>

                  <div>
                    <p class="text-sm text-gray-700">Actions & notes</p>
                    <div class="mt-2 flex gap-2">
                      <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="toggleDetails('engine-block')">View details</button>
                      <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="openGallery('engine-block')">Photos</button>
                      <button class="px-3 py-2 bg-green-600 text-white rounded-md" onclick="markAction('engine-block')">Recommend Repair</button>
                    </div>
                  </div>
                </div>

                <div id="engine-block" class="mt-4 hidden bg-gray-50 border border-gray-100 rounded-lg p-3">
                  <p class="text-sm text-gray-700">Detailed notes: Visible oil seepage at front cover, small hairline crack near mount. Recommend further pressure test and removal for inspection.</p>
                </div>

              </div>
            </div>
          </div>

          <!-- Radiator -->
          <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 12h18M3 6h18" />
                </svg>
              </div>

              <div class="flex-1">
                <div class="flex items-start justify-between">
                  <div>
                    <div class="flex items-center gap-3">
                      <h3 class="font-semibold">Radiator</h3>
                      <span class="text-xs py-1 px-2 rounded-full bg-red-100 text-red-700">Major</span>
                    </div>
                    <p class="text-sm text-gray-500 mt-1">Inspect for leaks, fin damage and mounting bracket issues.</p>
                  </div>
                  <div class="text-right">
                    <div class="text-sm text-gray-500">Estimate</div>
                    <div class="font-medium">$300</div>
                  </div>
                </div>

                <div class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                  <div>
                    <p class="text-sm text-gray-700">Checklist</p>
                    <ul class="list-disc ml-5 mt-2 text-sm text-gray-600">
                      <li>Leaks</li>
                      <li>Fin damage</li>
                      <li>Mounting brackets</li>
                    </ul>
                  </div>
                  <div>
                    <p class="text-sm text-gray-700">Actions & notes</p>
                    <div class="mt-2 flex gap-2">
                      <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="toggleDetails('radiator')">View details</button>
                      <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="openGallery('radiator')">Photos</button>
                      <button class="px-3 py-2 bg-green-600 text-white rounded-md" onclick="markAction('radiator')">Recommend Repair</button>
                    </div>
                  </div>
                </div>

                <div id="radiator" class="mt-4 hidden bg-gray-50 border border-gray-100 rounded-lg p-3">
                  <p class="text-sm text-gray-700">Detailed notes: Pressure test failed at lower hose. Minor fin damage on lower section. Replace lower hose and re-test; consider radiator core repair if leak persists.</p>
                </div>

              </div>
            </div>
          </div>

          <!-- Battery -->
          <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M11 6h2v6h-2zM5 6h2v6H5z" />
                </svg>
              </div>

              <div class="flex-1">
                <div class="flex items-start justify-between">
                  <div>
                    <div class="flex items-center gap-3">
                      <h3 class="font-semibold">Battery</h3>
                      <span class="text-xs py-1 px-2 rounded-full bg-yellow-100 text-yellow-700">Minor</span>
                    </div>
                    <p class="text-sm text-gray-500 mt-1">Check case integrity, terminal corrosion, and hold-down securement.</p>
                  </div>
                  <div class="text-right">
                    <div class="text-sm text-gray-500">Estimate</div>
                    <div class="font-medium">$100</div>
                  </div>
                </div>

                <div class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                  <div>
                    <p class="text-sm text-gray-700">Checklist</p>
                    <ul class="list-disc ml-5 mt-2 text-sm text-gray-600">
                      <li>Case damage</li>
                      <li>Terminal corrosion</li>
                      <li>Hold-down</li>
                    </ul>
                  </div>
                  <div>
                    <p class="text-sm text-gray-700">Actions & notes</p>
                    <div class="mt-2 flex gap-2">
                      <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="toggleDetails('battery')">View details</button>
                      <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="openGallery('battery')">Photos</button>
                      <button class="px-3 py-2 bg-green-600 text-white rounded-md" onclick="markAction('battery')">Recommend Repair</button>
                    </div>
                  </div>
                </div>

                <div id="battery" class="mt-4 hidden bg-gray-50 border border-gray-100 rounded-lg p-3">
                  <p class="text-sm text-gray-700">Detailed notes: Terminals show light corrosion; hold-down missing rubber cushion. Clean terminals and fit new cushion; test charging system.</p>
                </div>

              </div>
            </div>
          </div>

          <!-- Air Filter Housing -->
          <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
              </div>

              <div class="flex-1">
                <div class="flex items-start justify-between">
                  <div>
                    <div class="flex items-center gap-3">
                      <h3 class="font-semibold">Air Filter Housing</h3>
                      <span class="text-xs py-1 px-2 rounded-full bg-yellow-100 text-yellow-700">Minor</span>
                    </div>
                    <p class="text-sm text-gray-500 mt-1">Check for cracks and secure mounting.</p>
                  </div>
                  <div class="text-right">
                    <div class="text-sm text-gray-500">Estimate</div>
                    <div class="font-medium">$50</div>
                  </div>
                </div>

                <div class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                  <div>
                    <p class="text-sm text-gray-700">Checklist</p>
                    <ul class="list-disc ml-5 mt-2 text-sm text-gray-600">
                      <li>Cracks</li>
                      <li>Mounting damage</li>
                    </ul>
                  </div>
                  <div>
                    <p class="text-sm text-gray-700">Actions & notes</p>
                    <div class="mt-2 flex gap-2">
                      <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="toggleDetails('airfilter')">View details</button>
                      <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="openGallery('airfilter')">Photos</button>
                      <button class="px-3 py-2 bg-green-600 text-white rounded-md" onclick="markAction('airfilter')">Recommend Repair</button>
                    </div>
                  </div>
                </div>

                <div id="airfilter" class="mt-4 hidden bg-gray-50 border border-gray-100 rounded-lg p-3">
                  <p class="text-sm text-gray-700">Detailed notes: Housing shows minor cracks at clip area; still serviceable but recommend replacement if cracking worsens.</p>
                </div>

              </div>
            </div>
          </div>

          <!-- Belts and Hoses -->
          <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 4v16M4 12h16" />
                </svg>
              </div>

              <div class="flex-1">
                <div class="flex items-start justify-between">
                  <div>
                    <div class="flex items-center gap-3">
                      <h3 class="font-semibold">Belts & Hoses</h3>
                      <span class="text-xs py-1 px-2 rounded-full bg-red-100 text-red-700">Major</span>
                    </div>
                    <p class="text-sm text-gray-500 mt-1">Inspect fraying, cracks and tension.</p>
                  </div>
                  <div class="text-right">
                    <div class="text-sm text-gray-500">Estimate</div>
                    <div class="font-medium">$150</div>
                  </div>
                </div>

                <div class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                  <div>
                    <p class="text-sm text-gray-700">Checklist</p>
                    <ul class="list-disc ml-5 mt-2 text-sm text-gray-600">
                      <li>Fraying</li>
                      <li>Cracks</li>
                      <li>Proper tension</li>
                    </ul>
                  </div>
                  <div>
                    <p class="text-sm text-gray-700">Actions & notes</p>
                    <div class="mt-2 flex gap-2">
                      <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="toggleDetails('belts')">View details</button>
                      <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="openGallery('belts')">Photos</button>
                      <button class="px-3 py-2 bg-green-600 text-white rounded-md" onclick="markAction('belts')">Recommend Repair</button>
                    </div>
                  </div>
                </div>

                <div id="belts" class="mt-4 hidden bg-gray-50 border border-gray-100 rounded-lg p-3">
                  <p class="text-sm text-gray-700">Detailed notes: Serpentine belt shows light glazing; top hose has small crack near clamp—replace hose and re-tension belt.</p>
                </div>

              </div>
            </div>
          </div>

          <!-- Fluid Reservoirs -->
          <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 3v18M6 7h12" />
                </svg>
              </div>

              <div class="flex-1">
                <div class="flex items-start justify-between">
                  <div>
                    <div class="flex items-center gap-3">
                      <h3 class="font-semibold">Fluid Reservoirs</h3>
                      <span class="text-xs py-1 px-2 rounded-full bg-yellow-100 text-yellow-700">Minor</span>
                    </div>
                    <p class="text-sm text-gray-500 mt-1">Check caps, levels and visible cracks.</p>
                  </div>
                  <div class="text-right">
                    <div class="text-sm text-gray-500">Estimate</div>
                    <div class="font-medium">$50</div>
                  </div>
                </div>

                <div class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                  <div>
                    <p class="text-sm text-gray-700">Checklist</p>
                    <ul class="list-disc ml-5 mt-2 text-sm text-gray-600">
                      <li>Cracks</li>
                      <li>Cap damage</li>
                      <li>Fluid levels</li>
                    </ul>
                  </div>
                  <div>
                    <p class="text-sm text-gray-700">Actions & notes</p>
                    <div class="mt-2 flex gap-2">
                      <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="toggleDetails('fluids')">View details</button>
                      <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="openGallery('fluids')">Photos</button>
                      <button class="px-3 py-2 bg-green-600 text-white rounded-md" onclick="markAction('fluids')">Recommend Repair</button>
                    </div>
                  </div>
                </div>

                <div id="fluids" class="mt-4 hidden bg-gray-50 border border-gray-100 rounded-lg p-3">
                  <p class="text-sm text-gray-700">Detailed notes: Coolant low and slightly discolored; cap shows wear. Top up and flush coolant; replace cap if leak detected.</p>
                </div>

              </div>
            </div>
          </div>

          <!-- Wiring Harnesses -->
          <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 12h18M12 3v18" />
                </svg>
              </div>

              <div class="flex-1">
                <div class="flex items-start justify-between">
                  <div>
                    <div class="flex items-center gap-3">
                      <h3 class="font-semibold">Wiring Harnesses</h3>
                      <span class="text-xs py-1 px-2 rounded-full bg-yellow-100 text-yellow-700">Minor</span>
                    </div>
                    <p class="text-sm text-gray-500 mt-1">Inspect for damage, routing and secure connections.</p>
                  </div>
                  <div class="text-right">
                    <div class="text-sm text-gray-500">Estimate</div>
                    <div class="font-medium">$120</div>
                  </div>
                </div>

                <div class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                  <div>
                    <p class="text-sm text-gray-700">Checklist</p>
                    <ul class="list-disc ml-5 mt-2 text-sm text-gray-600">
                      <li>Damage</li>
                      <li>Proper routing</li>
                      <li>Connections</li>
                    </ul>
                  </div>
                  <div>
                    <p class="text-sm text-gray-700">Actions & notes</p>
                    <div class="mt-2 flex gap-2">
                      <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="toggleDetails('wiring')">View details</button>
                      <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="openGallery('wiring')">Photos</button>
                      <button class="px-3 py-2 bg-green-600 text-white rounded-md" onclick="markAction('wiring')">Recommend Repair</button>
                    </div>
                  </div>
                </div>

                <div id="wiring" class="mt-4 hidden bg-gray-50 border border-gray-100 rounded-lg p-3">
                  <p class="text-sm text-gray-700">Detailed notes: Minor abrasions found on loom near alternator; re-route and protect with split loom; re-test sensors afterward.</p>
                </div>

              </div>
            </div>
          </div>

          <!-- Engine Mounts -->
          <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 3v6l9 3-9 3v6" />
                </svg>
              </div>

              <div class="flex-1">
                <div class="flex items-start justify-between">
                  <div>
                    <div class="flex items-center gap-3">
                      <h3 class="font-semibold">Engine Mounts</h3>
                      <span class="text-xs py-1 px-2 rounded-full bg-yellow-100 text-yellow-700">Minor</span>
                    </div>
                    <p class="text-sm text-gray-500 mt-1">Assess structural integrity and rubber condition.</p>
                  </div>
                  <div class="text-right">
                    <div class="text-sm text-gray-500">Estimate</div>
                    <div class="font-medium">$150</div>
                  </div>
                </div>

                <div class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                  <div>
                    <p class="text-sm text-gray-700">Checklist</p>
                    <ul class="list-disc ml-5 mt-2 text-sm text-gray-600">
                      <li>Structural integrity</li>
                      <li>Rubber condition</li>
                    </ul>
                  </div>
                  <div>
                    <p class="text-sm text-gray-700">Actions & notes</p>
                    <div class="mt-2 flex gap-2">
                      <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="toggleDetails('mounts')">View details</button>
                      <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="openGallery('mounts')">Photos</button>
                      <button class="px-3 py-2 bg-green-600 text-white rounded-md" onclick="markAction('mounts')">Recommend Repair</button>
                    </div>
                  </div>
                </div>

                <div id="mounts" class="mt-4 hidden bg-gray-50 border border-gray-100 rounded-lg p-3">
                  <p class="text-sm text-gray-700">Detailed notes: Top mount shows split in rubber—may cause vibration under load. Recommend replacement of affected mounts.</p>
                </div>

              </div>
            </div>
          </div>

        </div>
      </section>

      <!-- Suspension & Steering Group -->
      <section>
        <div class="flex items-center justify-between mb-3">
          <h2 class="text-lg font-semibold">Suspension & Steering</h2>
          <p class="text-sm text-gray-500">Inspected suspension and steering components</p>
        </div>

        <div class="grid gap-3">
          <!-- Shock Absorbers -->
          <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 3v18M3 12h18" />
                </svg>
              </div>

              <div class="flex-1">
                <div class="flex items-start justify-between">
                  <div>
                    <div class="flex items-center gap-3">
                      <h3 class="font-semibold">Shock Absorbers</h3>
                      <span class="text-xs py-1 px-2 rounded-full bg-red-100 text-red-700">Major</span>
                    </div>
                    <p class="text-sm text-gray-500 mt-1">Check for leaks, mounting damage and function.</p>
                  </div>
                  <div class="text-right">
                    <div class="text-sm text-gray-500">Estimate</div>
                    <div class="font-medium">$300</div>
                  </div>
                </div>

                <div class="mt-3 grid grid-cols-1 md:grid-cols-2 gap-3">
                  <div>
                    <p class="text-sm text-gray-700">Checklist</p>
                    <ul class="list-disc ml-5 mt-2 text-sm text-gray-600">
                      <li>Leaks</li>
                      <li>Mounting damage</li>
                      <li>Function</li>
                    </ul>
                  </div>
                  <div>
                    <p class="text-sm text-gray-700">Actions & notes</p>
                    <div class="mt-2 flex gap-2">
                      <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="toggleDetails('shocks')">View details</button>
                      <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="openGallery('shocks')">Photos</button>
                      <button class="px-3 py-2 bg-green-600 text-white rounded-md" onclick="markAction('shocks')">Recommend Repair</button>
                    </div>
                  </div>
                </div>

                <div id="shocks" class="mt-4 hidden bg-gray-50 border border-gray-100 rounded-lg p-3">
                  <p class="text-sm text-gray-700">Detailed notes: Left front shock shows oil trail and reduced rebound. Replace left front shock and inspect top mount.</p>
                </div>

              </div>
            </div>
          </div>

          <!-- Struts -->
          <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 6h16M4 18h16" />
                </svg>
              </div>
              <div class="flex-1">
                <div class="flex items-start justify-between">
                  <div>
                    <div class="flex items-center gap-3">
                      <h3 class="font-semibold">Struts</h3>
                      <span class="text-xs py-1 px-2 rounded-full bg-yellow-100 text-yellow-700">Minor</span>
                    </div>
                    <p class="text-sm text-gray-500 mt-1">Inspect structural integrity and mounting points.</p>
                  </div>
                  <div class="text-right">
                    <div class="text-sm text-gray-500">Estimate</div>
                    <div class="font-medium">$180</div>
                  </div>
                </div>

                <div class="mt-3 flex gap-2">
                  <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="toggleDetails('struts')">View details</button>
                  <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="openGallery('struts')">Photos</button>
                  <button class="px-3 py-2 bg-green-600 text-white rounded-md" onclick="markAction('struts')">Recommend Repair</button>
                </div>

                <div id="struts" class="mt-4 hidden bg-gray-50 border border-gray-100 rounded-lg p-3">
                  <p class="text-sm text-gray-700">Detailed notes: Mounting bolts show minor corrosion; strut bodies intact.</p>
                </div>

              </div>
            </div>
          </div>

          <!-- Springs -->
          <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 4v16M8 8v8M16 8v8" />
                </svg>
              </div>
              <div class="flex-1">
                <div class="flex items-start justify-between">
                  <div>
                    <div class="flex items-center gap-3">
                      <h3 class="font-semibold">Springs</h3>
                      <span class="text-xs py-1 px-2 rounded-full bg-yellow-100 text-yellow-700">Minor</span>
                    </div>
                    <p class="text-sm text-gray-500 mt-1">Check for cracks, proper seating and corrosion.</p>
                  </div>
                  <div class="text-right">
                    <div class="text-sm text-gray-500">Estimate</div>
                    <div class="font-medium">$120</div>
                  </div>
                </div>

                <div class="mt-3 flex gap-2">
                  <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="toggleDetails('springs')">View details</button>
                  <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="openGallery('springs')">Photos</button>
                  <button class="px-3 py-2 bg-green-600 text-white rounded-md" onclick="markAction('springs')">Recommend Repair</button>
                </div>

                <div id="springs" class="mt-4 hidden bg-gray-50 border border-gray-100 rounded-lg p-3">
                  <p class="text-sm text-gray-700">Detailed notes: Front-left spring shows light surface corrosion; seating looks correct. Monitor for progression.</p>
                </div>

              </div>
            </div>
          </div>

          <!-- Control Arms -->
          <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 12h16M12 4v16" />
                </svg>
              </div>
              <div class="flex-1">
                <div class="flex items-start justify-between">
                  <div>
                    <div class="flex items-center gap-3">
                      <h3 class="font-semibold">Control Arms</h3>
                      <span class="text-xs py-1 px-2 rounded-full bg-red-100 text-red-700">Major</span>
                    </div>
                    <p class="text-sm text-gray-500 mt-1">Inspect for bending, bushing damage and ball joint integrity.</p>
                  </div>
                  <div class="text-right">
                    <div class="text-sm text-gray-500">Estimate</div>
                    <div class="font-medium">$250</div>
                  </div>
                </div>

                <div class="mt-3 flex gap-2">
                  <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="toggleDetails('control')">View details</button>
                  <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="openGallery('control')">Photos</button>
                  <button class="px-3 py-2 bg-green-600 text-white rounded-md" onclick="markAction('control')">Recommend Repair</button>
                </div>

                <div id="control" class="mt-4 hidden bg-gray-50 border border-gray-100 rounded-lg p-3">
                  <p class="text-sm text-gray-700">Detailed notes: Near-side control arm shows deformation and bushing play—replace arm and rebalance wheel alignment.</p>
                </div>

              </div>
            </div>
          </div>

          <!-- Tie Rods -->
          <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 3v18M3 12h18" />
                </svg>
              </div>
              <div class="flex-1">
                <div class="flex items-start justify-between">
                  <div>
                    <div class="flex items-center gap-3">
                      <h3 class="font-semibold">Tie Rods</h3>
                      <span class="text-xs py-1 px-2 rounded-full bg-red-100 text-red-700">Major</span>
                    </div>
                    <p class="text-sm text-gray-500 mt-1">Check for bending, boot damage and end wear.</p>
                  </div>
                  <div class="text-right">
                    <div class="text-sm text-gray-500">Estimate</div>
                    <div class="font-medium">$120</div>
                  </div>
                </div>

                <div class="mt-3 flex gap-2">
                  <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="toggleDetails('tie')">View details</button>
                  <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="openGallery('tie')">Photos</button>
                  <button class="px-3 py-2 bg-green-600 text-white rounded-md" onclick="markAction('tie')">Recommend Repair</button>
                </div>

                <div id="tie" class="mt-4 hidden bg-gray-50 border border-gray-100 rounded-lg p-3">
                  <p class="text-sm text-gray-700">Detailed notes: Outer tie rod end boot torn—replace tie rod end and check alignment.</p>
                </div>

              </div>
            </div>
          </div>

          <!-- Steering Rack -->
          <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 12h18M12 3v18" />
                </svg>
              </div>
              <div class="flex-1">
                <div class="flex items-start justify-between">
                  <div>
                    <div class="flex items-center gap-3">
                      <h3 class="font-semibold">Steering Rack</h3>
                      <span class="text-xs py-1 px-2 rounded-full bg-red-100 text-red-700">Major</span>
                    </div>
                    <p class="text-sm text-gray-500 mt-1">Inspect for leaks, mounting damage and boot tears.</p>
                  </div>
                  <div class="text-right">
                    <div class="text-sm text-gray-500">Estimate</div>
                    <div class="font-medium">$400</div>
                  </div>
                </div>

                <div class="mt-3 flex gap-2">
                  <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="toggleDetails('rack')">View details</button>
                  <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="openGallery('rack')">Photos</button>
                  <button class="px-3 py-2 bg-green-600 text-white rounded-md" onclick="markAction('rack')">Recommend Repair</button>
                </div>

                <div id="rack" class="mt-4 hidden bg-gray-50 border border-gray-100 rounded-lg p-3">
                  <p class="text-sm text-gray-700">Detailed notes: Power steering rack shows minor leak at input seal. Recommend replace seal and inspect lines.</p>
                </div>

              </div>
            </div>
          </div>

          <!-- Brake Lines -->
          <div class="bg-white rounded-2xl p-4 shadow-sm border border-gray-100">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 12h18M6 6v12M18 6v12" />
                </svg>
              </div>
              <div class="flex-1">
                <div class="flex items-start justify-between">
                  <div>
                    <div class="flex items-center gap-3">
                      <h3 class="font-semibold">Brake Lines</h3>
                      <span class="text-xs py-1 px-2 rounded-full bg-yellow-100 text-yellow-700">Minor</span>
                    </div>
                    <p class="text-sm text-gray-500 mt-1">Check for damage, routing and leaks.</p>
                  </div>
                  <div class="text-right">
                    <div class="text-sm text-gray-500">Estimate</div>
                    <div class="font-medium">$80</div>
                  </div>
                </div>

                <div class="mt-3 flex gap-2">
                  <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="toggleDetails('brakelines')">View details</button>
                  <button class="px-3 py-2 bg-white rounded-md shadow-sm" onclick="openGallery('brakelines')">Photos</button>
                  <button class="px-3 py-2 bg-green-600 text-white rounded-md" onclick="markAction('brakelines')">Recommend Repair</button>
                </div>

                <div id="brakelines" class="mt-4 hidden bg-gray-50 border border-gray-100 rounded-lg p-3">
                  <p class="text-sm text-gray-700">Detailed notes: Minor abrasion to near-side brake line—no active leak. Protect and re-route where chafing occurs.</p>
                </div>

              </div>
            </div>
          </div>

        </div>
      </section>

      <!-- Gallery modal placeholder -->
      <div id="galleryModal" class="fixed inset-0 bg-black/50 hidden items-center justify-center p-4">
        <div class="bg-white rounded-xl max-w-3xl w-full p-4">
          <div class="flex items-center justify-between mb-3">
            <h4 class="font-semibold">Photos</h4>
            <button class="text-gray-500" onclick="closeGallery()">Close</button>
          </div>
          <div id="galleryContent" class="thin-scroll overflow-x-auto whitespace-nowrap gap-3"></div>
        </div>
      </div>

      <!-- Footer actions -->
      <div class="mt-8 bg-white rounded-2xl p-4 shadow-sm flex items-center justify-between">
        <div class="text-sm text-gray-600">Mechanical checks summary • Last updated: 2025-09-27</div>
        <div class="flex gap-2">
          <button class="px-3 py-2 bg-white rounded-xl shadow-sm">Export CSV</button>
          <button class="px-3 py-2 bg-indigo-600 text-white rounded-xl">Create Work Order</button>
        </div>
      </div>

    </div>
  </div>

  <script>
    function toggleDetails(id) {
      const el = document.getElementById(id);
      if (!el) return;
      el.classList.toggle('hidden');
    }

    function openGallery(component) {
      const modal = document.getElementById('galleryModal');
      const content = document.getElementById('galleryContent');
      modal.classList.remove('hidden');
      content.innerHTML = '';
      const pics = [
        `https://via.placeholder.com/1200x800?text=${component}+photo+1`,
        `https://via.placeholder.com/1200x800?text=${component}+photo+2`,
        `https://via.placeholder.com/1200x800?text=${component}+photo+3`,
      ];
      pics.forEach(src => {
        const img = document.createElement('img');
        img.src = src;
        img.className = 'inline-block h-64 object-cover mr-3 rounded-lg';
        content.appendChild(img);
      });
    }

    function closeGallery() {
      document.getElementById('galleryModal').classList.add('hidden');
    }

    function markAction(id) {
      alert('Marked '+id+' for recommended repair — create work order or send to vendor.');
    }
  </script>
</body>
</html>

{% endblock %}
